<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>·ª®ng d·ª•ng t√≠nh ƒëi·ªÉm & GPA ƒë·∫°i h·ªçc</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#f4f6fb;
    padding:30px;
}

.container{
    max-width:1000px;
    margin:auto;
    background:#fff;
    border-radius:18px;
    box-shadow:0 12px 30px rgba(0,0,0,0.12);
}

.header{
    background:linear-gradient(90deg,#2b59ff,#5f6fff);
    color:white;
    padding:25px;
    border-radius:18px 18px 0 0;
}

.content{
    padding:25px;
}

.subject{
    background:#f9fbff;
    border:1px solid #e0e6f0;
    border-radius:14px;
    padding:18px;
    margin-bottom:18px;
}

.row{
    display:grid;
    grid-template-columns: repeat(5, 1fr);
    gap:10px;
    margin-bottom:10px;
}

input{
    padding:10px;
    border-radius:10px;
    border:1px solid #ccc;
    font-size:14px;
    width:100%;
}

input[readonly]{
    background:#eef2f7;
    font-weight:bold;
}

.note{
    font-size:13px;
    color:#666;
}

.buttons{
    display:flex;
    gap:15px;
    margin-top:20px;
}

button{
    padding:12px 22px;
    border:none;
    border-radius:12px;
    font-size:16px;
    cursor:pointer;
}

.add{background:#18a957;color:white}
.calc{background:#2b59ff;color:white}
.clear{background:#444;color:white}

.result{
    margin-top:25px;
    font-size:22px;
    font-weight:bold;
}
</style>
</head>

<body>

<div class="container">
    <div class="header">
        <h2>üìò ·ª®ng d·ª•ng t√≠nh ƒëi·ªÉm & GPA ƒë·∫°i h·ªçc</h2>
        <p>Ng∆∞·ªùi d√πng t·ª± ƒëi·ªÅu ch·ªânh % tr·ª±c ti·∫øp tr√™n web</p>
    </div>

    <div class="content">
        <div id="subjects"></div>

        <div class="buttons">
            <button class="add" onclick="addSubject()">‚ûï Th√™m m√¥n</button>
            <button class="calc" onclick="calculateGPA()">üìä T√≠nh GPA</button>
            <button class="clear" onclick="clearAll()">üóë X√≥a t·∫•t c·∫£</button>
        </div>

        <div class="result" id="gpaResult"></div>
    </div>
</div>

<script>
function scoreTo4(s){
    if(s >= 8.5) return 4;
    if(s >= 7) return 3;
    if(s >= 5.5) return 2;
    if(s >= 4) return 1;
    return 0;
}

function rank(s){
    if(s >= 8.5) return "A";
    if(s >= 7) return "B";
    if(s >= 5.5) return "C";
    if(s >= 4) return "D";
    return "F";
}

function addSubject(){
    const div = document.createElement("div");
    div.className = "subject";

    div.innerHTML = `
        <div class="row">
            <input type="number" placeholder="T√≠n ch·ªâ" class="tc">

            <input type="number" placeholder="CC" class="cc" oninput="calcSubject(this)">
            <input type="number" placeholder="%CC" class="pcc" value="10" oninput="calcSubject(this)">

            <input type="number" placeholder="GK" class="gk" oninput="calcSubject(this)">
            <input type="number" placeholder="%GK" class="pgk" value="30" oninput="calcSubject(this)">
        </div>

        <div class="row">
            <input type="number" placeholder="CK" class="ck" oninput="calcSubject(this)">
            <input type="number" placeholder="%CK" class="pck" value="60" oninput="calcSubject(this)">

            <input type="text" placeholder="ƒêi·ªÉm h·ªá 10" class="s10" readonly>
            <input type="text" placeholder="ƒêi·ªÉm h·ªá 4" class="s4" readonly>
            <input type="text" placeholder="X·∫øp lo·∫°i" class="rk" readonly>
        </div>

        <div class="note">‚ö†Ô∏è T·ªïng % ph·∫£i b·∫±ng 100</div>
    `;

    document.getElementById("subjects").appendChild(div);
}

function calcSubject(el){
    const box = el.closest(".subject");

    const cc  = Number(box.querySelector(".cc").value)  || 0;
    const gk  = Number(box.querySelector(".gk").value)  || 0;
    const ck  = Number(box.querySelector(".ck").value)  || 0;

    const pcc = Number(box.querySelector(".pcc").value) || 0;
    const pgk = Number(box.querySelector(".pgk").value) || 0;
    const pck = Number(box.querySelector(".pck").value) || 0;

    if(pcc + pgk + pck !== 100){
        box.querySelector(".s10").value = "Sai %";
        box.querySelector(".s4").value = "";
        box.querySelector(".rk").value = "";
        return;
    }

    let s10 = (cc*pcc + gk*pgk + ck*pck) / 100;
    s10 = s10.toFixed(2);

    box.querySelector(".s10").value = s10;
    box.querySelector(".s4").value = scoreTo4(s10).toFixed(1);
    box.querySelector(".rk").value = rank(s10);
}

function calculateGPA(){
    const subs = document.querySelectorAll(".subject");
    let totalCredits = 0;
    let totalPoints = 0;

    subs.forEach(s => {
        const c = Number(s.querySelector(".tc").value);
        const s10 = Number(s.querySelector(".s10").value);
        if(c && !isNaN(s10)){
            totalCredits += c;
            totalPoints += scoreTo4(s10) * c;
        }
    });

    if(totalCredits === 0){
        gpaResult.innerHTML = "‚ö†Ô∏è Ch∆∞a ƒë·ªß d·ªØ li·ªáu ƒë·ªÉ t√≠nh GPA";
        return;
    }

    const gpa = (totalPoints / totalCredits).toFixed(2);
    gpaResult.innerHTML = `üéØ GPA h·ªçc k·ª≥: <span style="color:#2b59ff">${gpa}</span>`;
}

function clearAll(){
    document.getElementById("subjects").innerHTML = "";
    document.getElementById("gpaResult").innerHTML = "";
}

addSubject();
</script>

</body>
</html>


